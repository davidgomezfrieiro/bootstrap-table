<!doctype html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>Hello, Bootstrap Table!</title>

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css"
    integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn" crossorigin="anonymous">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css"
    integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
  <link rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.19.1/dist/bootstrap-table.min.css">

</head>

<body>
  <h1>Estadísticas Covid</h1>

  <div id="toolbar" class="select">
    <select class="form-control">
      <option value="">Export Basic</option>
      <option value="all">Export All</option>
      <option value="selected">Export Selected</option>
    </select>
  </div>

  <table data-toggle="table" data-url= "https://corona.lmao.ninja/v3/covid-19/countries/Spain%2C%20Italy%2C%20Germany%2C%20Poland%2C%20Finland">
    <thead>
      <tr>
        <th data-field="country">País</th>
        <th data-field="population">Población Total</th>
        <th data-field="casesPerOneMillion" data-sortable="true" data-cell-style="cellStyle">Casos activos por millón de habitantes</th>
        <th data-field="updated"  data-formatter="dateFormatter">Última actualización de los datos</th>
      </tr>
    </thead>
  </table>

  

  <script src="https://code.jquery.com/jquery-3.6.0.js"
  integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk="
  crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-fQybjgWLrvvRgtW6bFlB7jaZrFsaBXjsOMm/tB9LTS58ONXgqbR9W8oWht/amnpF"
    crossorigin="anonymous"></script>
  <script src="https://unpkg.com/bootstrap-table@1.19.1/dist/bootstrap-table.min.js"></script>
  


  <script>
    let warningCases = 10000
    
    function dateFormatter(value) {
      var timestamp = value;
      var date = new Date(timestamp);
    return "Última actualización: " + date
  }

  function cellStyle(value, row, index) {

    if (value < warningCases) {

      return {
        classes: 'bg-success'
      }
    }

    return {
      classes: 'bg-warning'
    }
  }
  </script>

</body>

</html>